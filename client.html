<!DOCTYPE html>
<html>
    <head>
        <title>Ripda</title>
    </head>
    <body>
        <div class="buttons">
            <p>Wallet</p>
            <button id="wallet_create_wallet">wallet_create_wallet</button>
            <br />
            <button id="wallet_open_wallet">wallet_open_wallet</button>
            <br />
            <p>Block</p>
            <button id="block_view">block_view</button>
            <br />
            <button id="block_is_hash_valid">block_is_hash_valid</button>
            <br />
            <p>Blockchain</p>
            <button id="blockchain_view">blockchain_view</button>
            <br />
            <button id="blockchain_add_block">blockchain_add_block</button>
            <br />
        </div>
        <script>
            
var wallet_create_wallet = document.getElementById('wallet_create_wallet'),
    wallet_open_wallet = document.getElementById('wallet_open_wallet'),
    block_view = document.getElementById('block_view'),
    block_is_hash_valid = document.getElementById('block_is_hash_valid'),
    blockchain_view = document.getElementById('blockchain_view'),
    blockchain_add_block = document.getElementById('blockchain_add_block'),

            websocket = new WebSocket("ws://127.0.0.1:6789/");

            websocket.onmessage = function (event) {
                data = JSON.parse(event.data);
                console.log(data)
            };


            wallet_create_wallet.onclick = function (event) {

                send_1 = {
                    m: 'wallet',
                    f: 'create_wallet',
                    d:  {'email': 'email', 'password': 'password'}
                }


                websocket.send(JSON.stringify(send_1));

                send_2 = {
                    m: 'wallet',
                    f: 'create_wallet',
                    d:  {}
                }


                websocket.send(JSON.stringify(send_2));

            }

            wallet_open_wallet.onclick = function (event) {
                
                wallet = {
                    private_key: "0028a171ff1b99e372521672ef13af3db1954e63e75ffe86f05523a0e5aec19a3d76d02554016b34907f3e0270871cf9a7eda564081142e23e432089be9a5f00fc56"
                }
                
                send = {
                    m: 'wallet',
                    f: 'open_wallet',
                    d:  wallet

                }

                websocket.send(JSON.stringify(send));

            }

            block_view.onclick = function (event) {

                send = {
                    m: 'block',
                    f: 'view',
                    d:  {}
                }

                websocket.send(JSON.stringify(send));

            }

            block_is_hash_valid.onclick = function (event) {

                send_1 = {
                    m: 'block',
                    f: 'is_hash_valid',
                    d:  {
                        hash: '0000455e446d61974b748f753b684c843df66c98a3f15310600bbca0b6f10b00'
                    }
                }

                websocket.send(JSON.stringify(send_1));

                send_2 = {
                    m: 'block',
                    f: 'is_hash_valid',
                    d:  {
                        hash: '0007455e446d61974b748f753b684c843df66c98a3f15310600bbca0b6f10b00'
                    }
                }

                websocket.send(JSON.stringify(send_2));
            }


            blockchain_view.onclick = function (event) {

                send = {
                    m: 'blockchain',
                    f: 'view',
                    d:  {}
                }

                websocket.send(JSON.stringify(send));

            }

        </script>
    </body>
</html>
